<%= link_to 'Back', :back, class: 'govuk-back-link', data: {controller: 'back-link'} %>

<%- self.page_title = "Confirm booking" %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-three-quarters">
    <h1>
      Confirm the booking for <%= @placement_request.candidate_name %>.
    </h1>

    <dl class="govuk-summary-list">

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          School
        </dt>
        <dd class="govuk-summary-list__value">
          <%= @placement_request.school.name %>
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <%- if @placement_request.placement_date.present? -%>
          <dt class="govuk-summary-list__key">
            Date requested
          </dt>
          <dd class="govuk-summary-list__value">
              <%= @placement_request.placement_date.date.to_formatted_s(:govuk) %>
          </dd>
        <%- else -%>
          <dt class="govuk-summary-list__key">
            Availability
          </dt>
          <dd class="govuk-summary-list__value">
            <%= @placement_request.availability %>
          </dd>
        <%- end -%>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Subject requested
        </dt>
        <dd class="govuk-summary-list__value">
          <%= @placement_request.requested_subject.name %>
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Contact details
        </dt>
        <dd class="govuk-summary-list__value">
          <ul class="govuk-list">
            <li aria-label="Contact name" >
              <%= @contact_details.contact_name %>
            </li>
            <li aria-label="Contact telephone number" >
              <%= @contact_details.contact_number %>
            </li>
            <li aria-label="Contact email address" >
              <%= @contact_details.contact_email %>
            </li>
          </ul>
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Admin details
        </dt>
        <dd class="govuk-summary-list__value">
          <ul class="govuk-list">
            <li aria-label="Admin email address">
              <%= @placement_request.school.profile.admin_contact_email %>
            </li>
            <li aria-label="Admin phone number">
              <%= @placement_request.school.profile.admin_contact_phone %>
            </li>
          </ul>
        </dd>
      </div>

    </dl>

    <div>
      <%= govuk_link_to 'Preview confirmation email', '#', class: 'govuk-!-margin-right-1', data: { module: "govuk-button" } %>
      <%= govuk_link_to 'Make changes', '#', secondary: true, data: { module: "govuk-button" } %>
    </div>
  </div>
</div>
